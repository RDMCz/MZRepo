# HW 13 â€“ SmÄ›rovÃ¡nÃ­, smÄ›rovacÃ­ tabulky, smÄ›rovacÃ­ protokoly

## SmÄ›rovÃ¡nÃ­

* UrÄenÃ­, kam se mÃ¡ paket dostat
* SmÄ›rovaÄ posÃ­lÃ¡ pakety do cizÃ­ sÃ­tÄ›

### SmÄ›rovacÃ­ tabulka (Routing table)

![powershellroutes](./img/HW_13_01.PNG)

* Windows `route print`
  * CÃ­lovÃ¡ adresa
  * Maska sÃ­tÄ›
  * BrÃ¡na â€“ IP adresa smÄ›rovaÄe (pokud nenÃ­ sÃ­Å¥ pÅ™Ã­mo dostupnÃ¡)
  * RozhranÃ­, pÅ™es kterÃ© se lze dostat na brÃ¡nu
  * Metric je "vÃ½hodnost" cesty, preferujÃ­ se niÅ¾Å¡Ã­ ÄÃ­sla
    * V distance-vector protokolech znamenÃ¡ poÄet skokÅ¯
* JestliÅ¾e adresa nenÃ­ v tabulce, pouÅ¾ije se defaultnÃ­ routa neboli Å¾olÃ­k
  * Adresa 0.0.0.0 s maskou 0.0.0.0

![ciscoroutes](./img/HW_13_02.PNG)

* Cisco `show ip route`
  * `directly connected` â€“ pÅ™Ã­mo pÅ™ipojeno â€“ pÅ™idÃ¡no zaÅ™Ã­zenÃ­m
  * `S` â€“ statickÃ¡ routa, pÅ™idÃ¡na uÅ¾ivatelem

### RIP â€“ Routing Information Protocol

* Distance-vector
* NejjednoduÅ¡Å¡Ã­ protokol
* VÃ½ukovÃ© ÃºÄely, malÃ© sÃ­tÄ›
* MaximÃ¡lnÄ› 15 skokÅ¯ (sÃ­tÄ› s 16+ skoky jsou nedosaÅ¾itelnÃ©)
* ZasÃ­lÃ¡nÃ­ smÄ›rovacÃ­ch tabulek broadcastem
* RIPv2
  * UmoÅ¾Åˆuje prÃ¡ci s podsÃ­tÄ›mi
  * ZasÃ­lÃ¡nÃ­ smÄ›rovacÃ­ch tabulek multicastem
* RIPng (next generation)
  * Podpora IPv6

### EIGRP â€“ Enhanced Interior Gateway Routing Protocol

* Distance-vector
* Cisco proprietÃ¡rnÃ­, od roku 2013 volnÄ› dostupnÃ½
* AsymetrickÃ© posÃ­lÃ¡nÃ­ dat

### OSPF â€“ Open Shortest Path First

* Link-state
* NejpouÅ¾Ã­vanÄ›jÅ¡Ã­ protokol

### BGP â€“ Border Gateway Protocol

* Path-vector
* PouÅ¾Ã­vÃ¡n ISP, pÃ¡teÅ™nÃ­ sÃ­tÄ›

### Distance-vector protoly

* SmÄ›rovaÄe neznajÃ­ strukturu sÃ­tÄ› za svÃ½mi nejbliÅ¾Å¡Ã­mi sousedy
* V pravidelnÃ½ch intervalech Äi pÅ™i topologickÃ© zmÄ›nÄ› si se sousedy vymÄ›ÅˆujÃ­ kompletnÃ­ kopie svÃ½ch smÄ›rovacÃ­ch tabulek
* Na zÃ¡kladÄ› pÅ™ijatÃ½ch informacÃ­ si inkrementujÃ­ metriku â€“ poÄet hopÅ¯ k danÃ© sÃ­ti
* _VÅ¡echny informace jen svÃ½m sousedÅ¯m_

### Link-state protokoly

* SmÄ›rovaÄe se navzÃ¡jem informujÃ­ o svÃ½ch sousedech a tyto informace si uklÃ¡dajÃ­ do svÃ© databÃ¡ze
* TÃ­mto zpÅ¯sobem si zmapujÃ­ dostupnost celÃ© sÃ­tÄ›, potÃ© se poÄÃ­tÃ¡ nejkratÅ¡Ã­ cesta
* _Informace o svÃ½ch sousedech vÅ¡em_
* VÃ½raznÄ› nÃ¡roÄnÄ›jÅ¡Ã­ na hardware
* LepÅ¡Ã­ rychlost konvergence â€“ Doba, za kterou bude sÃ­Å¥ plnÄ› funkÄnÃ­ (vÅ¡echny stroje budou mÃ­t vyplnÄ›nÃ© tabulky)

### StatickÃ© routy

* PÅ™idÃ¡ny sprÃ¡vcem
* Pokud se v sÃ­ti nÄ›co zmÄ›nÃ­, musÃ­ se routy ruÄnÄ› pÅ™epsat
* Pro malÃ© sÃ­tÄ› (u velkÃ½ch sÃ­tÃ­ by byl velkÃ½ poÄet rout, kterÃ© musÃ­me ruÄnÄ› nastavit)

``` txt
Router> en
Router# conf t
Router(config)# ip route 192.168.2.0 255.255.255.0 Serial 0/1/0
Router(config)# exi
Router# wr
```

### DynamickÃ© routy

* PÅ™idÃ¡ny smÄ›rovaÄem pomocÃ­ smÄ›rovacÃ­ch protokolÅ¯

``` txt
Router> en
Router# conf t
Router(config)# router rip
Router(config-router)# network 10.1.1.0
Router(config-router)# neighbor 10.1.1.2
Router(config-router)# end
Router(config)# exi
Router# wr
```

---
---

![ðŸ˜«](./img/HW_13_03.PNG)
